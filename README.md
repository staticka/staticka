# Staticka

[![Latest Version on Packagist][ico-version]][link-packagist]
[![Software License][ico-license]][link-license]
[![Build Status][ico-travis]][link-travis]
[![Coverage Status][ico-scrutinizer]][link-scrutinizer]
[![Quality Score][ico-code-quality]][link-code-quality]
[![Total Downloads][ico-downloads]][link-downloads]

[Staticka](https://staticka.github.io) is a simple and extensible static site generator written in PHP. It converts [Markdown](https://en.wikipedia.org/wiki/Markdown) content and PHP template files into static HTML. This library was heavily inspired in popular static site generators such as [Hugo](https://gohugo.io) and [Jekyll](https://jekyllrb.com).

## Features

* Uses [Markdown](https://en.wikipedia.org/wiki/Markdown) as the default markup language for the content files
* No fixed file and directory structure for the content and template files
* Fully extensible, can even change the default markup (Markdown) into a chosen markup language

## Installation

Install `Staticka` via [Composer](https://getcomposer.org/):

``` bash
$ composer require staticka/staticka
```

## Basic Usage

### Compile Markdown files

Create a new file named `index.md`:

**index.md**

```
# Hello World!

This is a sample Markdown file.
```

Then add it as a page to `Staticka` instance:

**index.php**

``` php
$site = new Staticka\Website;

$site->page(__DIR__ . '/index.md');

$site->compile(__DIR__ . '/build');
```

To compile the pages, run the `php index.php` command:

``` bash
$ php index.php
```

To see the output, open `build/index.html` in a web browser.

**build/index.html**

``` html
<h1>Hello World!</h1>
<p>This is a sample Markdown file.</p>
```

### Adding Front Matter and additional data

Staticka supports [Front Matter](https://jekyllrb.com/docs/frontmatter) in which can add predefined variables in a specific content. Special variables like `layout`, `permalink`, and `title` are also generated by default but can be overwritten inside the content.

**index.md**

```
---
permalink: brave-world
---

# Hello World!

This is a sample Markdown file.
```

**build/brave-world/index.html** (after running `php index.php` in the terminal)

``` html
<h1>Hello World!</h1>
<p>This is a sample Markdown file.</p>
```

The second parameter of `$site->page()` method can also be inserted of variables to be included in the page:

**index.php**

``` php
$data = array('permalink' => 'brave-world');

$site->page(__DIR__ . '/index.md', $data);

$site->compile(__DIR__ . '/build');
```

## Customization

The `Staticka` instance by default contains a `Renderer` from [Zapheus](https://zapheus.github.io) and a `MarkdownContent` based from [Parsedown](http://parsedown.org). To customize said instances (either change the path of the template files or use different content parser and template engine), the new instances must be implemented in [`RendererInterface`](https://github.com/zapheus/zapheus/blob/master/src/Renderer/RendererInterface.php) and [`ContentInterface`](https://github.com/staticka/staticka/blob/master/src/Content/ContentInterface.php) respectively.

``` php
use Zapheus\Renderer\Renderer;

// Changes the path for the templates.
$renderer = new Renderer(__DIR__ . '/pages');

$site = new Staticka\Website($renderer);

$site->page(__DIR__ . '/index.md');

$site->compile(__DIR__ . '/build');
```

### Filters

Staticka can use filters to modify the contents of the specified page. Creating filters require an instance to be implemented in [`FilterInterface`](https://github.com/staticka/staticka/blob/master/src/Filter/FilterInterface.php).

**index.php**

``` php
use Staticka\Filter\HtmlMinifier;

$site = new Staticka\Website;

$site->filter(new HtmlMinifier);

$site->page(__DIR__ . '/index.md');

$site->compile(__DIR__ . '/build');
```

**build/brave-world/index.html** (after running `php index.php` in the terminal)

``` html
<h1>Hello World!</h1><p>This is a sample Markdown file.</p>
```

### Helpers

Helpers can be used in putting methods inside template files. It must also be implemented in [`HelperInterface`](https://github.com/staticka/staticka/blob/master/src/Helper/HelperInterface.php) when creating a new helper.

**index.md**

```
---
permalink: brave-world
layout: layout
---

# Hello World!

This is a sample Markdown file.
```

**layout.php**

``` html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><?php echo $title; ?></title>
</head>
<body>
  <p><?php echo $url->set('hello'); ?></p>
  <?php echo $content; ?>
</body>
</html>
```

**index.php**

``` php
use Staticka\Helper\LinkHelper;

$site = new Staticka\Website;

$helper = new LinkHelper('https://staticka.github.io');

$site->helper($helper);

$site->page(__DIR__ . '/index.md');

$site->compile(__DIR__ . '/build');
```

**build/brave-world/index.html** (after running `php index.php` in the terminal)

``` html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hello World!</title>
</head>
<body>
  <p>https://staticka.github.io/hello</p>
  <h1>Hello World!</h1>
<p>This is a sample Markdown file.</p></body>
</html>
```

## Changelog

Please see [CHANGELOG][link-changelog] for more information what has changed recently.

## Testing

``` bash
$ composer test
```

## Credits

- [All contributors][link-contributors]

## License

The MIT License (MIT). Please see [LICENSE][link-license] for more information.

[ico-code-quality]: https://img.shields.io/scrutinizer/g/staticka/staticka.svg?style=flat-square
[ico-downloads]: https://img.shields.io/packagist/dt/staticka/staticka.svg?style=flat-square
[ico-license]: https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square
[ico-scrutinizer]: https://img.shields.io/scrutinizer/coverage/g/staticka/staticka.svg?style=flat-square
[ico-travis]: https://img.shields.io/travis/staticka/staticka/master.svg?style=flat-square
[ico-version]: https://img.shields.io/packagist/v/staticka/staticka.svg?style=flat-square

[link-changelog]: https://github.com/staticka/staticka/blob/master/CHANGELOG.md
[link-code-quality]: https://scrutinizer-ci.com/g/staticka/staticka
[link-contributors]: https://github.com/staticka/staticka/contributors
[link-downloads]: https://packagist.org/packages/staticka/staticka
[link-license]: https://github.com/staticka/staticka/blob/master/LICENSE.md
[link-packagist]: https://packagist.org/packages/staticka/staticka
[link-scrutinizer]: https://scrutinizer-ci.com/g/staticka/staticka/code-structure
[link-travis]: https://travis-ci.org/staticka/staticka